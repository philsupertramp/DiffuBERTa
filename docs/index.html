<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiffuBERTa: Structured Extraction</title>
    
    <!-- React & DOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Framer Motion -->
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>

    <style>
        body {
            background-color: #0f172a; /* Slate 900 */
            color: #e2e8f0; /* Slate 200 */
            font-family: 'Inter', system-ui, sans-serif;
        }
        .code-font {
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
        }
        .gradient-text {
            background: linear-gradient(to right, #818cf8, #c084fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        const { motion, AnimatePresence } = window.Motion;
        
        // --- COMPONENTS ---

        const Icon = ({ name, size = 24, className = "" }) => {
            const lucide = window.lucide;
            if (!lucide) return null;
            
            // Map common icon names to lucide elements
            const icons = {
                Zap: "zap",
                Cpu: "cpu",
                Layers: "layers",
                ArrowRight: "arrow-right",
                Check: "check",
                Code: "code",
                Terminal: "terminal",
                Database: "database",
                Clock: "clock",
                RefreshCw: "refresh-cw",
                Rocket: "rocket",
                GitPullRequest: "git-pull-request",
                Scale: "scale",
                BrainCircuit: "brain-circuit"
            };
            
            const svgPaths = {
                Zap: <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z" />,
                Cpu: <><rect x="4" y="4" width="16" height="16" rx="2" ry="2"></rect><rect x="9" y="9" width="6" height="6"></rect><line x1="9" y1="1" x2="9" y2="4"></line><line x1="15" y1="1" x2="15" y2="4"></line><line x1="9" y1="20" x2="9" y2="23"></line><line x1="15" y1="20" x2="15" y2="23"></line><line x1="20" y1="9" x2="23" y2="9"></line><line x1="20" y1="14" x2="23" y2="14"></line><line x1="1" y1="9" x2="4" y2="9"></line><line x1="1" y1="14" x2="4" y2="14"></line></>,
                Layers: <><polygon points="12 2 2 7 12 12 22 7 12 2"></polygon><polyline points="2 17 12 22 22 17"></polyline><polyline points="2 12 12 17 22 12"></polyline></>,
                ArrowRight: <><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></>,
                Check: <polyline points="20 6 9 17 4 12"></polyline>,
                Code: <><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></>,
                Terminal: <><polyline points="4 17 10 11 4 5"></polyline><line x1="12" y1="19" x2="20" y2="19"></line></>,
                Database: <><ellipse cx="12" cy="5" rx="9" ry="3"></ellipse><path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path><path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path></>,
                Clock: <><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></>,
                RefreshCw: <><path d="M21 2v6h-6"></path><path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path><path d="M3 22v-6h6"></path><path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path></>,
                Rocket: <><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"></path><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"></path><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"></path><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"></path></>,
                GitPullRequest: <><circle cx="18" cy="18" r="3"></circle><circle cx="6" cy="6" r="3"></circle><path d="M13 6h3a2 2 0 0 1 2 2v7"></path><line x1="6" y1="9" x2="6" y2="21"></line></>,
                Scale: <><path d="m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"></path><path d="m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"></path><path d="M7 21h10"></path><path d="M12 3v18"></path><path d="M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"></path></>,
                BrainCircuit: <><path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"></path><path d="M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z"></path><path d="M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4"></path><path d="M17.599 6.5a3 3 0 0 0 .399-1.375"></path><path d="M6.003 5.125A3 3 0 0 0 6.401 6.5"></path><path d="M3.477 10.896a4 4 0 0 1 .585-.396"></path><path d="M19.938 10.5a4 4 0 0 1 .585.396"></path><path d="M6 18a4 4 0 0 1-1.97-1.375"></path><path d="M17.97 16.625A4 4 0 0 1 16 18"></path></>
            };

            return (
                <svg 
                    xmlns="http://www.w3.org/2000/svg" 
                    width={size} 
                    height={size} 
                    viewBox="0 0 24 24" 
                    fill="none" 
                    stroke="currentColor" 
                    strokeWidth="2" 
                    strokeLinecap="round" 
                    strokeLinejoin="round" 
                    className={className}
                >
                    {svgPaths[name] || svgPaths.Zap}
                </svg>
            );
        };

        const Section = ({ title, icon, children, className = "" }) => (
            <section className={`mb-16 ${className}`}>
                <div className="flex items-center gap-3 mb-6">
                    <div className="p-2 bg-indigo-500/20 rounded-lg text-indigo-400">
                        <Icon name={icon} size={28} />
                    </div>
                    <h2 className="text-3xl font-bold text-white tracking-tight">{title}</h2>
                </div>
                {children}
            </section>
        );

        const Card = ({ title, children, className = "" }) => (
            <div className={`bg-slate-800/50 border border-slate-700 rounded-xl p-6 hover:border-indigo-500/50 transition-colors ${className}`}>
                {title && <h3 className="text-xl font-semibold text-white mb-4">{title}</h3>}
                {children}
            </div>
        );

        // --- VISUALIZATION: OVERSHOOT ---
        const OvershootDemo = () => {
            const [input, setInput] = useState("Paris");
            const SLOT_LEN = 10;
            
            // Simulate the logic from sanitize_json_value and OvershootDataset
            const tokens = input.split("").concat(['"', ',']).concat(Array(SLOT_LEN).fill(""));
            const displayTokens = tokens.slice(0, SLOT_LEN).map((t, i) => {
                // If it's part of the word
                if (i < input.length) return { char: t, type: 'content' };
                // If it's the closing quote
                if (i === input.length) return { char: '"', type: 'syntax' };
                // If it's the comma
                if (i === input.length + 1) return { char: ',', type: 'syntax' };
                // Else padding
                return { char: '<PAD>', type: 'pad' };
            });

            return (
                <Card title="The 'Overshoot' Strategy">
                    <p className="text-slate-400 mb-6">
                        Standard MLMs require fixed inputs. We allocate <code className="bg-slate-900 px-1 rounded text-indigo-400">SLOT_LEN = 10</code> masks for every value. 
                        The model learns to write the value, then "close" it with syntax tokens, and pad the rest.
                    </p>
                    
                    <div className="mb-6">
                        <label className="block text-sm font-medium text-slate-400 mb-2">Simulate Model Output for City:</label>
                        <input 
                            type="text" 
                            value={input}
                            onChange={(e) => setInput(e.target.value.slice(0, 8))}
                            className="bg-slate-900 border border-slate-700 rounded px-4 py-2 text-white w-full max-w-xs focus:ring-2 focus:ring-indigo-500 outline-none"
                            placeholder="Type a city name..."
                        />
                    </div>

                    <div className="flex flex-wrap gap-2">
                        {displayTokens.map((token, idx) => (
                            <motion.div 
                                key={idx}
                                layout
                                initial={{ opacity: 0, scale: 0.8 }}
                                animate={{ opacity: 1, scale: 1 }}
                                className={`
                                    w-12 h-14 flex items-center justify-center rounded border text-sm font-mono font-bold shadow-lg
                                    ${token.type === 'content' ? 'bg-indigo-600 border-indigo-400 text-white' : ''}
                                    ${token.type === 'syntax' ? 'bg-emerald-600 border-emerald-400 text-white' : ''}
                                    ${token.type === 'pad' ? 'bg-slate-800 border-slate-700 text-slate-600' : ''}
                                `}
                            >
                                {token.char}
                            </motion.div>
                        ))}
                    </div>
                    
                    <div className="mt-4 flex gap-4 text-xs uppercase tracking-wider font-semibold">
                        <div className="flex items-center gap-2"><div className="w-3 h-3 bg-indigo-600 rounded"></div> Content</div>
                        <div className="flex items-center gap-2"><div className="w-3 h-3 bg-emerald-600 rounded"></div> Closure Syntax</div>
                        <div className="flex items-center gap-2"><div className="w-3 h-3 bg-slate-800 border border-slate-700 rounded"></div> Ignored Padding</div>
                    </div>
                </Card>
            );
        };

        // --- VISUALIZATION: PARALLEL DIFFUSION ---
        const ParallelDemo = () => {
            const [step, setStep] = useState(0);
            
            const steps = [
                {
                    label: "Step 0: Initial State",
                    desc: "All value slots are initialized with [MASK]. The model sees the full context text.",
                    data: [
                        { key: "name", val: ["<mask>", "<mask>", "<mask>", "<mask>"] },
                        { key: "job", val: ["<mask>", "<mask>", "<mask>", "<mask>"] },
                        { key: "city", val: ["<mask>", "<mask>", "<mask>", "<mask>"] }
                    ]
                },
                {
                    label: "Step 1: High Confidence",
                    desc: "The model fills the easiest tokens first (usually short words or closures).",
                    data: [
                        { key: "name", val: ["Dr", ".", "Sarah", "<mask>"] }, // Confidence: High
                        { key: "job", val: ["Senior", "<mask>", "<mask>", "<mask>"] },
                        { key: "city", val: ["Paris", "\"", ",", "<mask>"] } // Easy because it's exactly in text
                    ]
                },
                {
                    label: "Step 2: Refinement",
                    desc: "Conditioned on the easy tokens, the harder ones become clear.",
                    data: [
                        { key: "name", val: ["Dr", ".", "Sarah", "\""] },
                        { key: "job", val: ["Senior", "Data", "Scientist", "\""] },
                        { key: "city", val: ["Paris", "\"", ",", "<pad>"] }
                    ]
                },
                {
                    label: "Step 3: Final Sanitization",
                    desc: "We strip padding and syntax to get clean JSON.",
                    data: [
                        { key: "name", val: ["Dr. Sarah"] },
                        { key: "job", val: ["Senior Data Scientist"] },
                        { key: "city", val: ["Paris"] }
                    ],
                    isFinal: true
                }
            ];

            return (
                <Card title="Parallel Refinement (Diffusion)">
                    <div className="flex flex-col md:flex-row gap-8">
                        {/* CONTROLS */}
                        <div className="w-full md:w-1/3 space-y-6">
                            <p className="text-slate-400">
                                Instead of generating left-to-right (Autoregressive), we generate <strong>bi-directionally</strong> in parallel steps. This allows the model to "see" the future tokens while filling the past ones.
                            </p>
                            
                            <div className="space-y-4">
                                {steps.map((s, idx) => (
                                    <button
                                        key={idx}
                                        onClick={() => setStep(idx)}
                                        className={`w-full text-left p-3 rounded-lg border transition-all ${
                                            step === idx 
                                                ? 'bg-indigo-600/20 border-indigo-500 text-white' 
                                                : 'bg-slate-900 border-slate-700 text-slate-500 hover:border-slate-500'
                                        }`}
                                    >
                                        <div className="font-bold text-sm">Step {idx}</div>
                                        <div className="text-xs opacity-75 truncate">{s.label}</div>
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* VISUALIZER */}
                        <div className="w-full md:w-2/3 bg-slate-950 rounded-lg p-6 font-mono text-sm border border-slate-800 relative overflow-hidden">
                            <div className="absolute top-0 right-0 p-2 text-xs text-slate-600">JSON Template View</div>
                            
                            <div className="space-y-4">
                                <div className="text-slate-500">{'{'}</div>
                                
                                <AnimatePresence mode="wait">
                                    {steps[step].data.map((row, idx) => (
                                        <motion.div 
                                            key={row.key + step}
                                            initial={{ opacity: 0, x: -10 }}
                                            animate={{ opacity: 1, x: 0 }}
                                            transition={{ delay: idx * 0.1 }}
                                            className="pl-4 flex items-center gap-2"
                                        >
                                            <span className="text-indigo-400">"{row.key}"</span>: 
                                            <span className="text-slate-400">"</span>
                                            
                                            {steps[step].isFinal ? (
                                                <span className="text-emerald-400 font-bold">{row.val[0]}</span>
                                            ) : (
                                                <div className="flex gap-1">
                                                    {row.val.map((token, tIdx) => (
                                                        <span key={tIdx} className={`
                                                            px-1 rounded 
                                                            ${token === '<mask>' ? 'bg-slate-800 text-slate-500 animate-pulse' : ''}
                                                            ${token === '<pad>' ? 'text-slate-700' : ''}
                                                            ${token !== '<mask>' && token !== '<pad>' ? 'bg-indigo-500/20 text-indigo-200' : ''}
                                                        `}>
                                                            {token}
                                                        </span>
                                                    ))}
                                                </div>
                                            )}
                                            
                                            <span className="text-slate-400">"</span>
                                            {idx < steps[step].data.length - 1 && <span className="text-slate-500">,</span>}
                                        </motion.div>
                                    ))}
                                </AnimatePresence>

                                <div className="text-slate-500">{'}'}</div>
                            </div>

                            <div className="mt-8 pt-4 border-t border-slate-800 text-slate-400 italic">
                                {steps[step].desc}
                            </div>
                        </div>
                    </div>
                </Card>
            );
        };

        // --- CODE HIGHLIGHT ---
        const CodeSnippet = ({ code, language = "python" }) => {
            const codeRef = useRef(null);
            
            useEffect(() => {
                if (window.hljs && codeRef.current) {
                    window.hljs.highlightElement(codeRef.current);
                }
            }, [code]);

            return (
                <div className="rounded-lg overflow-hidden border border-slate-700 bg-[#0d1117] text-sm shadow-xl my-4">
                    <div className="flex items-center px-4 py-2 bg-slate-800/50 border-b border-slate-700">
                        <div className="flex gap-1.5">
                            <div className="w-3 h-3 rounded-full bg-red-500/50"></div>
                            <div className="w-3 h-3 rounded-full bg-yellow-500/50"></div>
                            <div className="w-3 h-3 rounded-full bg-green-500/50"></div>
                        </div>
                        <span className="ml-3 text-xs text-slate-400 font-mono">train.py</span>
                    </div>
                    <pre className="p-4 m-0 overflow-x-auto"><code ref={codeRef} className={`language-${language} code-font`}>{code}</code></pre>
                </div>
            );
        };

        // --- MAIN APP ---
        const App = () => {
            return (
                <div className="min-h-screen pb-20">
                    {/* HERO */}
                    <div className="relative bg-slate-900 border-b border-slate-800 overflow-hidden">
                        <div className="absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"></div>
                        <div className="absolute top-0 right-0 w-1/2 h-full bg-indigo-500/10 blur-[100px]"></div>
                        
                        <div className="max-w-5xl mx-auto px-6 py-24 relative z-10">
                            <motion.div 
                                initial={{ opacity: 0, y: 20 }}
                                animate={{ opacity: 1, y: 0 }}
                                transition={{ duration: 0.8 }}
                            >
                                <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-sm font-medium mb-6">
                                    <Icon name="Zap" size={16} />
                                    Non-Autoregressive Extraction
                                </div>
                                <h1 className="text-5xl md:text-7xl font-bold mb-6 tracking-tight text-white">
                                    Diffu<span className="gradient-text">BERTa</span>
                                </h1>
                                <p className="text-xl text-slate-400 max-w-2xl leading-relaxed">
                                    A structured extraction approach that replaces slow, left-to-right generation with iterative, parallel refinement. 
                                    Powered by Masked Language Modeling and LoRA.
                                </p>
                            </motion.div>
                        </div>
                    </div>

                    <div className="max-w-5xl mx-auto px-6 py-12">
                        
                        {/* INTRO GRID */}
                        <div className="grid md:grid-cols-3 gap-6 mb-20">
                            <Card className="bg-slate-800/20">
                                <div className="mb-4 text-emerald-400"><Icon name="Clock" /></div>
                                <h3 className="font-bold text-lg text-white mb-2">Fast Inference</h3>
                                <p className="text-slate-400 text-sm">Generates all tokens in parallel steps (O(steps)) rather than sequence length (O(N)).</p>
                            </Card>
                            <Card className="bg-slate-800/20">
                                <div className="mb-4 text-purple-400"><Icon name="Layers" /></div>
                                <h3 className="font-bold text-lg text-white mb-2">Structured Output</h3>
                                <p className="text-slate-400 text-sm">Uses rigid templates with "Overshoot" masking to guarantee valid JSON keys.</p>
                            </Card>
                            <Card className="bg-slate-800/20">
                                <div className="mb-4 text-blue-400"><Icon name="Cpu" /></div>
                                <h3 className="font-bold text-lg text-white mb-2">Efficient Training</h3>
                                <p className="text-slate-400 text-sm">Fine-tunes RoBERTa-base using LoRA (Rank 8) on consumer hardware.</p>
                            </Card>
                        </div>

                        {/* SECTION 1: OVERSHOOT */}
                        <Section title="The Overshoot Technique" icon="Code">
                            <div className="grid md:grid-cols-2 gap-8 items-start">
                                <div>
                                    <p className="text-slate-300 leading-relaxed mb-6">
                                        The biggest challenge with Masked Language Models (MLMs) like RoBERTa is that they expect a <strong>fixed input length</strong>. They can't just "keep generating" like GPT.
                                    </p>
                                    <p className="text-slate-300 leading-relaxed mb-6">
                                        We solve this by pre-allocating a fixed buffer (<code>SLOT_LEN = 10</code>) for every value in our JSON template. The model learns to use as many slots as it needs and "pad out" the rest.
                                    </p>
                                    <CodeSnippet code={`# train.py
# Standardize: Every value gets exactly 10 slots.
SLOT_LEN = 10 

def sanitize_json_value(raw_value):
    # If the model predicted a closing quote, cut there.
    if '"' in raw_value:
        raw_value = raw_value.split('"')[0]
    return raw_value.strip()`} />
                                </div>
                                <OvershootDemo />
                            </div>
                        </Section>

                        {/* SECTION 2: PARALLEL */}
                        <Section title="Parallel Decoding" icon="RefreshCw">
                            <p className="text-slate-300 mb-8 max-w-3xl">
                                We treat extraction as a <strong>denoising</strong> problem. We start with a template full of masks. In each step, we identify the masks the model is most confident about, "lock" them, and feed them back as context for the next step.
                            </p>
                            <ParallelDemo />
                            
                            <div className="mt-8">
                                <h4 className="text-white font-bold mb-4 flex items-center gap-2">
                                    <Icon name="Terminal" size={18} className="text-indigo-400"/>
                                    The Logic Loop
                                </h4>
                                <CodeSnippet code={`def extract_parallel(source_text, instruction, template, steps=5):
    # 1. Start with all MASKS
    input_ids = tokenize(template_with_masks)
    
    for step in range(steps):
        # 2. Get probabilities for all current masks
        logits = model(input_ids).logits
        
        # 3. Find most confident predictions
        probs = softmax(logits)
        
        # 4. "Lock in" the top chunk of confident tokens
        # (Simulating diffusion refinement)
        update_masks(input_ids, best_tokens)
        
    return decode(input_ids)`} />
                            </div>
                        </Section>

                        {/* SECTION 3: ARCHITECTURE */}
                        <Section title="Architecture & Training" icon="Database">
                            <div className="grid md:grid-cols-2 gap-8">
                                <Card title="Universal Generator">
                                    <p className="text-slate-400 text-sm mb-4">
                                        To prevent the model from memorizing specific domains, we train on a "Universal" synthetic dataset covering 4 distinct logic types.
                                    </p>
                                    <ul className="space-y-3">
                                        <li className="flex items-center gap-3 text-sm text-slate-300">
                                            <span className="w-2 h-2 rounded-full bg-pink-500"></span>
                                            <strong>E-Commerce:</strong> Price/Attribute extraction
                                        </li>
                                        <li className="flex items-center gap-3 text-sm text-slate-300">
                                            <span className="w-2 h-2 rounded-full bg-purple-500"></span>
                                            <strong>Events:</strong> Time/Location logic
                                        </li>
                                        <li className="flex items-center gap-3 text-sm text-slate-300">
                                            <span className="w-2 h-2 rounded-full bg-cyan-500"></span>
                                            <strong>Science:</strong> Factual relationships
                                        </li>
                                        <li className="flex items-center gap-3 text-sm text-slate-300">
                                            <span className="w-2 h-2 rounded-full bg-orange-500"></span>
                                            <strong>Social:</strong> Handle/Count parsing
                                        </li>
                                    </ul>
                                </Card>

                                <Card title="LoRA Fine-Tuning">
                                    <p className="text-slate-400 text-sm mb-4">
                                        We freeze the base RoBERTa model and only train low-rank adapters. This is crucial for retaining the model's language understanding while injecting the "structural" capability.
                                    </p>
                                    <CodeSnippet code={`peft_config = LoraConfig(
    task_type=TaskType.FEATURE_EXTRACTION,
    r=8,              # Low Rank
    lora_alpha=32,
    target_modules=["query", "value"]
)`} />
                                </Card>
                            </div>
                        </Section>

                        {/* SECTION 4: FUTURE HORIZONS (NEW) */}
                        <Section title="Future Horizons" icon="Rocket">
                            <div className="grid md:grid-cols-2 gap-6">
                                <Card title="Dynamic Slotting">
                                    <div className="flex items-start gap-4">
                                        <div className="p-2 bg-pink-500/20 rounded text-pink-400 mt-1">
                                            <Icon name="GitPullRequest" size={20} />
                                        </div>
                                        <div>
                                            <p className="text-slate-400 text-sm leading-relaxed">
                                                Currently, we use a fixed <code className="bg-slate-900 px-1 rounded text-indigo-400">SLOT_LEN=10</code>. Future versions could use a separate "length predictor" head to dynamically allocate masks before generation, saving compute on short fields.
                                            </p>
                                        </div>
                                    </div>
                                </Card>
                                <Card title="Confidence Calibration">
                                    <div className="flex items-start gap-4">
                                        <div className="p-2 bg-cyan-500/20 rounded text-cyan-400 mt-1">
                                            <Icon name="Scale" size={20} />
                                        </div>
                                        <div>
                                            <p className="text-slate-400 text-sm leading-relaxed">
                                                The "locking" mechanism currently picks the top N% of tokens. We can improve this by using <strong>entropy-based thresholds</strong>, only locking tokens when the model is statistically certain.
                                            </p>
                                        </div>
                                    </div>
                                </Card>
                                <Card title="Hybrid Decoding">
                                    <div className="flex items-start gap-4">
                                        <div className="p-2 bg-purple-500/20 rounded text-purple-400 mt-1">
                                            <Icon name="BrainCircuit" size={20} />
                                        </div>
                                        <div>
                                            <p className="text-slate-400 text-sm leading-relaxed">
                                                Using Non-Autoregressive generation for structured fields (dates, names) and traditional Autoregressive (GPT) decoding for long-form text descriptions in the same pass.
                                            </p>
                                        </div>
                                    </div>
                                </Card>
                                <Card title="Scaling Up">
                                    <div className="flex items-start gap-4">
                                        <div className="p-2 bg-emerald-500/20 rounded text-emerald-400 mt-1">
                                            <Icon name="Layers" size={20} />
                                        </div>
                                        <div>
                                            <p className="text-slate-400 text-sm leading-relaxed">
                                                Applying this LoRA approach to larger backbones like <strong>DeBERTa-v3-Large</strong> or encoder-decoder architectures like T5 to handle complex reasoning tasks alongside extraction.
                                            </p>
                                        </div>
                                    </div>
                                </Card>
                            </div>
                        </Section>

                        {/* CONCLUSION CARD */}
                        <div className="bg-gradient-to-r from-indigo-900/20 to-purple-900/20 rounded-2xl p-8 border border-indigo-500/30 text-center mb-20 relative overflow-hidden group">
                            <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500"></div>
                            
                            <h2 className="text-3xl font-bold text-white mb-4 relative z-10">Ready to build?</h2>
                            <p className="text-slate-300 mb-8 max-w-2xl mx-auto relative z-10 leading-relaxed">
                                DiffuBERTa proves that we don't always need massive autoregressive models for structured tasks. 
                                By rethinking the decoding process, we can achieve speed, structure, and efficiency on consumer hardware.
                            </p>
                            
                            <div className="inline-flex gap-4 relative z-10">
                                <button className="px-6 py-3 bg-white text-slate-900 font-bold rounded-full hover:bg-slate-200 transition-colors flex items-center gap-2">
                                    <Icon name="GitPullRequest" size={18} />
                                    Clone Repo
                                </button>
                                <button className="px-6 py-3 bg-indigo-600 text-white font-bold rounded-full hover:bg-indigo-500 transition-colors flex items-center gap-2">
                                    <Icon name="Rocket" size={18} />
                                    Try Demo
                                </button>
                            </div>

                            {/* Decorative blur */}
                            <div className="absolute -bottom-20 -right-20 w-64 h-64 bg-purple-500/10 blur-[80px] group-hover:bg-purple-500/20 transition-all duration-700"></div>
                            <div className="absolute -top-20 -left-20 w-64 h-64 bg-indigo-500/10 blur-[80px] group-hover:bg-indigo-500/20 transition-all duration-700"></div>
                        </div>

                        {/* FOOTER */}
                        <div className="border-t border-slate-800 pt-8 mt-20 text-center">
                            <p className="text-slate-500 text-sm">
                                Created with Gemini 3.0 PRO â€¢ Implemented using React & Tailwind
                            </p>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
